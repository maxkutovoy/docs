Добавьте защиту от ошибок в GET параметрах
Дайте токену специфичное название
Удалите временные файлы в случае ошибки
Используйте шаблоны вместо сложения строк
Почините извлечение filename из url
Используйте в названиях правильный регистр букв
Избавьтесь от сравнений с True/False
Вернитесь к исходным настройкам wttr.in
Сделайте скрипт совместимым с *nix и Windows
Проверьте HTTP статус ответа
Оптимизируйте декодирование JSON
Перенесите load_dotenv() внутрь ifmain / def main
Используйте contextlib.suppress
Вместо кодов статуса используйте response.ok
